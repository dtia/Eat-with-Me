<html>
  <head>
  
    <script>
    $(document).ready(function(){
      $("#reservationsearch").validate({
        rules: {
          city: "required",
          gender: "required",
    		  gender_target: "required",
          date: "required"
        }
      });

      $( "#date" ).datepicker();

      $("#getrestaurantname").button({ icons: {primary:'ui-icon-search'} });

      $("#cuisine").tagit({
          availableTags: ['Afghan', 'African', 'American (New)', 'American (Traditional)', 'Arabian', 'Argentine',
            'Asian Fusion', 'Australian', 'Austrian', 'Bangladeshi', 'Barbeque', 'Basque', 'Belgian', 'Brasseries', 
            'Brazilian', 'Breakfast & Brunch', 'British', 'Buffets', 'Burgers', 'Burmese', 'Cafes', 'Cajun/Creole',
            'Cambodian', 'Cantonese', 'Caribbean', 'Catalan', 'Cheesesteaks', 'Chicken Wings', 'Chinese', 'Colombian',
            'Comfort Food', 'Creperies', 'Cuban', 'Czech/Slovakian', 'Delis', 'Dim Sum', 'Diners', 'Dominican', 'Egyptian',
            'Ethiopian', 'Fast Food', 'Filipino', 'Fish & Chips', 'Fondue', 'Food Court', 'Food Stands', 'French',
            'Gastropubs', 'German', 'Gluten-Free', 'Greek', 'Haitian', 'Halal', 'Hawaiian', 'Himalayan/Nepalese', 'Hot Dogs',
            'Hot Pot', 'Hungarian', 'Iberian', 'Indian', 'Indonesian', 'Irish', 'Italian', 'Japanese', 'Korean', 'Kosher',
            'Laotian', 'Latin American', 'Lebanese', 'Live/Raw Food', 'Malaysian', 'Mediterranean', 'Mexican', 'Middle Eastern',
            'Modern European', 'Mongolian', 'Moroccan', 'Pakistani', 'Persian/Iranian', 'Peruvian', 'Pizza', 'Polish',
            'Portuguese', 'Puerto Rican', 'Russian', 'Salad', 'Salvadoran', 'Sandwiches', 'Scandinavian', 'Scottish', 'Seafood',
            'Senegalese', 'Shanghainese', 'Singaporean', 'Soul Food', 'Soup', 'South African', 'Southern', 'Spanish',
            'Steakhouses', 'Sushi', 'Szechuan', 'Taiwanese', 'Tapas Bars', 'Tapas/Small Plates', 'Tex-Mex', 'Thai', 'Trinidadian',
            'Turkish', 'Ukrainian', 'Vegan', 'Vegetarian', 'Venezuelan', 'Vietnamese']
      });
      
      $("#restaurantsearch").click(function() {
        alert("Handler for .click() called.");
      });

    });
    </script>
    
  </head>
  <body>

	    <h3>Eat With Me!</h3>
	    <%= form_tag("/home/search", :method => "get", :id => 'reservationsearch') do %>
	    
	    <div class="row-fluid">
	      <div class="span12">
	        <%= label_tag(:restaurant, "Restaurant")%>
	        <%= text_field_tag(:restaurant)%>
	        <a href="#example" id="getrestaurantname" name="getrestaurantname" role="button" class="btn" data-toggle="modal" 
	          style="padding-left: 8px; padding-top: 8px; height: 13px; width: 10px; margin-top: 0px; position: relative; top: -5px;"></a>
	      </div>
	      
	    </div>
	    
	    <div class="row-fluid">
	      <div class="span6">
	        <%= label_tag(:gender, "I am a")%>
	        <%= select_tag('gender', options_for_select([['',''], ['Female', 'female'], ['Male', 'male']])) %>
	      </div>
	      <div class="span6">
	        <%= label_tag(:gender_target, "And I'm interested in")%> 
	        <%= select_tag('gender_target', options_for_select([['',''], ['Women', 'women'], ['Men', 'men'], ['Both', 'Both']])) %>
	      </div>
	    </div>
	    <div class="row-fluid">
	      <div class="span12">
	        <%= label_tag(:date, "Date")%>
	        <%= text_field_tag(:date) %>
	      </div>
	    </div>

	    <div class="row-fluid">
	      <div class="span12">
			<%= hidden_field_tag :uid, "" %>
			<%= hidden_field_tag :name, "" %>
	        <%= submit_tag("Find someone to eat with me", :class => "btn")%>
	      </div>
	    </div>
      
	    <% end %>

      <div id="example" class="modal hide fade in" style="display: none; ">
        <div class="modal-header">
          <a class="close" data-dismiss="modal">Ã—</a>
          <h3>Find Restaurants</h3>
        </div>
        <div class="modal-body">
          <div class="row-fluid">
            <div class="span12">
              <%= label_tag(:city, "City") %> 
    	        <%= select_tag('city', options_for_select([['',''], ['San Francisco', 'San Francisco'], ['Los Angeles', 'Los Angeles']])) %>
            </div>
          </div>
          <div class="row-fluid">
            <div class="span12">
              <%= label_tag(:cuisine, "Cuisine")%>
              <%= text_field_tag(:cuisine)%>		        
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <a href="#" id="restaurantsearch" name="restaurantsearch" class="btn btn-success">Find restaurants</a>
          <a href="#" class="btn" data-dismiss="modal">Close</a>
        </div>
      </div>

</body>
	
</html>
